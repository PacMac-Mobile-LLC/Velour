<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Welcome to Velour</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #2d1a2d 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      overflow: hidden;
      position: relative;
    }

    .background-pattern {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        radial-gradient(circle at 20% 20%, rgba(122, 40, 138, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(248, 187, 217, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 60%, rgba(122, 40, 138, 0.08) 0%, transparent 50%);
      z-index: -1;
    }

    .floating-elements {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      pointer-events: none;
      z-index: -1;
    }

    .floating-elements::before,
    .floating-elements::after {
      content: '';
      position: absolute;
      width: 200px;
      height: 200px;
      border-radius: 50%;
      background: linear-gradient(45deg, rgba(122, 40, 138, 0.1), rgba(248, 187, 217, 0.1));
      animation: float 6s ease-in-out infinite;
    }

    .floating-elements::before {
      top: 20%;
      left: 10%;
      animation-delay: 0s;
    }

    .floating-elements::after {
      bottom: 20%;
      right: 10%;
      animation-delay: 3s;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(180deg); }
    }

    .login-container {
      background: rgba(0, 0, 0, 0.85);
      border-radius: 24px;
      padding: 48px 40px;
      box-shadow: 
        0 25px 50px rgba(0, 0, 0, 0.6),
        0 0 0 1px rgba(122, 40, 138, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(122, 40, 138, 0.3);
      text-align: center;
      max-width: 420px;
      width: 90%;
      backdrop-filter: blur(20px);
      position: relative;
      overflow: hidden;
    }

    .login-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(122, 40, 138, 0.5), transparent);
    }

    .logo {
      font-size: 3rem;
      font-weight: 900;
      margin-bottom: 16px;
      background: linear-gradient(135deg, #7A288A 0%, #F8BBD9 50%, #7A288A 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      letter-spacing: -0.02em;
      position: relative;
    }

    .logo::after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 3px;
      background: linear-gradient(90deg, transparent, #7A288A, transparent);
      border-radius: 2px;
    }

    .tagline {
      font-size: 1.1rem;
      color: #B8B8B8;
      margin-bottom: 48px;
      line-height: 1.6;
      font-weight: 400;
      max-width: 320px;
      margin-left: auto;
      margin-right: auto;
    }

    .auth0-lock {
      background: transparent !important;
    }

    .auth0-lock-overlay {
      background: rgba(0, 0, 0, 0.8) !important;
      backdrop-filter: blur(10px) !important;
    }

    .auth0-lock-widget {
      background: transparent !important;
      border: none !important;
      box-shadow: none !important;
    }

    .auth0-lock-header {
      display: none !important;
    }

    .auth0-lock-form {
      background: transparent !important;
    }

    .auth0-lock-input-wrap {
      background: rgba(20, 20, 20, 0.8) !important;
      border: 1px solid rgba(122, 40, 138, 0.3) !important;
      border-radius: 16px !important;
      margin-bottom: 24px !important;
      transition: all 0.3s ease !important;
      backdrop-filter: blur(10px) !important;
      position: relative;
    }

    .auth0-lock-input-wrap:focus-within {
      border-color: #7A288A !important;
      box-shadow: 0 0 0 3px rgba(122, 40, 138, 0.2) !important;
      background: rgba(20, 20, 20, 0.9) !important;
      transform: translateY(-1px);
    }

    .auth0-lock-input {
      background: transparent !important;
      color: white !important;
      font-size: 16px !important;
      padding: 20px 24px !important;
      border: none !important;
      outline: none !important;
      font-weight: 400;
    }

    .auth0-lock-input::placeholder {
      color: #888 !important;
      font-weight: 400;
    }

    /* Input icons styling */
    .auth0-lock-input-wrap .auth0-lock-input-icon {
      color: #7A288A !important;
    }

    .auth0-lock-submit {
      background: linear-gradient(135deg, #7A288A 0%, #F8BBD9 100%) !important;
      border: none !important;
      border-radius: 16px !important;
      font-size: 1.1rem !important;
      font-weight: 600 !important;
      padding: 20px 40px !important;
      box-shadow: 0 8px 25px rgba(122, 40, 138, 0.3) !important;
      transition: all 0.3s ease !important;
      color: white !important;
      text-transform: none !important;
      letter-spacing: 0.5px !important;
    }

    .auth0-lock-submit:hover {
      transform: translateY(-2px) !important;
      box-shadow: 0 12px 35px rgba(122, 40, 138, 0.4) !important;
      background: linear-gradient(135deg, #8A3898 0%, #F8BBD9 100%) !important;
    }

    /* Social Login Buttons - Google */
    .auth0-lock-social-button[data-provider="google-oauth2"] {
      background: linear-gradient(135deg, #7A288A 0%, #F8BBD9 100%) !important;
      border: 1px solid rgba(122, 40, 138, 0.3) !important;
      border-radius: 16px !important;
      font-size: 1rem !important;
      font-weight: 600 !important;
      padding: 20px 24px !important;
      box-shadow: 0 8px 25px rgba(122, 40, 138, 0.2) !important;
      transition: all 0.3s ease !important;
      color: white !important;
      text-transform: none !important;
      letter-spacing: 0.5px !important;
      position: relative !important;
      overflow: hidden !important;
    }

    .auth0-lock-social-button[data-provider="google-oauth2"]:hover {
      transform: translateY(-2px) !important;
      box-shadow: 0 12px 35px rgba(122, 40, 138, 0.3) !important;
      background: linear-gradient(135deg, #8A3898 0%, #F8BBD9 100%) !important;
    }

    .auth0-lock-social-button[data-provider="google-oauth2"]:before {
      content: "üîç" !important;
      margin-right: 12px !important;
      font-size: 1.2rem !important;
    }

    /* Social Login Buttons - Twitter */
    .auth0-lock-social-button[data-provider="twitter"] {
      background: rgba(20, 20, 20, 0.8) !important;
      border: 1px solid rgba(122, 40, 138, 0.3) !important;
      border-radius: 16px !important;
      font-size: 1rem !important;
      font-weight: 600 !important;
      padding: 20px 24px !important;
      box-shadow: 0 8px 25px rgba(122, 40, 138, 0.1) !important;
      transition: all 0.3s ease !important;
      color: #7A288A !important;
      text-transform: none !important;
      letter-spacing: 0.5px !important;
      position: relative !important;
      overflow: hidden !important;
    }

    .auth0-lock-social-button[data-provider="twitter"]:hover {
      transform: translateY(-2px) !important;
      box-shadow: 0 12px 35px rgba(122, 40, 138, 0.2) !important;
      background: linear-gradient(135deg, #7A288A 0%, #F8BBD9 100%) !important;
      color: white !important;
      border-color: #7A288A !important;
    }

    .auth0-lock-social-button[data-provider="twitter"]:before {
      content: "üê¶" !important;
      margin-right: 12px !important;
      font-size: 1.2rem !important;
    }

    /* Generic social button fallback */
    .auth0-lock-social-button:not([data-provider="google-oauth2"]):not([data-provider="twitter"]) {
      background: linear-gradient(135deg, #7A288A 0%, #F8BBD9 100%) !important;
      border: 1px solid rgba(122, 40, 138, 0.3) !important;
      border-radius: 16px !important;
      font-size: 1rem !important;
      font-weight: 600 !important;
      padding: 20px 24px !important;
      box-shadow: 0 8px 25px rgba(122, 40, 138, 0.2) !important;
      transition: all 0.3s ease !important;
      color: white !important;
      text-transform: none !important;
      letter-spacing: 0.5px !important;
    }

    .auth0-lock-social-button:not([data-provider="google-oauth2"]):not([data-provider="twitter"]):hover {
      transform: translateY(-2px) !important;
      box-shadow: 0 12px 35px rgba(122, 40, 138, 0.3) !important;
    }

    .auth0-lock-alternative {
      color: #B8B8B8 !important;
    }

    .auth0-lock-alternative a {
      color: #7A288A !important;
      text-decoration: none !important;
      font-weight: 500;
    }

    .auth0-lock-alternative a:hover {
      color: #F8BBD9 !important;
    }

    /* Divider styling */
    .auth0-lock-separator {
      color: #888 !important;
      margin: 32px 0 !important;
      font-size: 0.9rem !important;
      position: relative !important;
      font-weight: 500;
    }

    .auth0-lock-separator:before {
      content: '' !important;
      position: absolute !important;
      top: 50% !important;
      left: 0 !important;
      right: 0 !important;
      height: 1px !important;
      background: linear-gradient(90deg, transparent 0%, rgba(122, 40, 138, 0.3) 50%, transparent 100%) !important;
      z-index: 1 !important;
    }

    .auth0-lock-separator span {
      background: rgba(0, 0, 0, 0.85) !important;
      padding: 0 24px !important;
      position: relative !important;
      z-index: 2 !important;
    }

    /* Error message styling */
    .auth0-lock-error {
      background: rgba(248, 113, 113, 0.1) !important;
      border: 1px solid rgba(248, 113, 113, 0.3) !important;
      border-radius: 10px !important;
      color: #f87171 !important;
      padding: 15px !important;
      margin-bottom: 20px !important;
      font-size: 0.9rem !important;
    }

    /* Loading state */
    .auth0-lock-loading {
      color: #ff69b4 !important;
    }

    /* Social button container */
    .auth0-lock-social-buttons-container {
      margin-bottom: 25px !important;
    }

    /* Social button spacing */
    .auth0-lock-social-button {
      margin-bottom: 15px !important;
      width: 100% !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
    }

    .loading-spinner {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 1s ease-in-out infinite;
      margin-right: 10px;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .error-message {
      background: #ff4444;
      color: white;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 20px;
      font-size: 0.9rem;
    }

    .security-note {
      display: flex;
      align-items: center;
      gap: 12px;
      color: #888;
      font-size: 0.85rem;
      margin-top: 32px;
      justify-content: center;
      font-weight: 400;
    }

    .security-note::before {
      content: "üîí";
      font-size: 1rem;
    }

    @media (max-width: 480px) {
      .login-container {
        padding: 30px 20px;
        margin: 20px;
      }
      
      .logo {
        font-size: 2rem;
      }
      
      .tagline {
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <div class="background-pattern"></div>
  <div class="floating-elements"></div>
  
  <div class="login-container">
    <div class="logo">Velour</div>
    <div class="tagline">
      Sign in to access exclusive content and connect with creators
    </div>
    
    <div id="auth0-login-container"></div>
    
    <div class="security-note">
      Your information is secure and encrypted
    </div>
  </div>

  <!--[if IE 8]>
  <script src="//cdnjs.cloudflare.com/ajax/libs/ie8/0.2.5/ie8.js"></script>
  <![endif]-->

  <!--[if lte IE 9]>
  <script src="https://cdn.auth0.com/js/base64.js"></script>
  <script src="https://cdn.auth0.com/js/es5-shim.min.js"></script>
  <![endif]-->

  <script src="https://cdn.auth0.com/js/lock/13.0/lock.min.js"></script>
  <script>
    // Decode utf8 characters properly
    var config = JSON.parse(decodeURIComponent(escape(window.atob('@@config@@'))));
    config.extraParams = config.extraParams || {};
    var connection = config.connection;
    var prompt = config.prompt;
    var languageDictionary;
    var language;

    if (config.dict && config.dict.signin && config.dict.signin.title) {
      languageDictionary = { title: config.dict.signin.title };
    } else if (typeof config.dict === 'string') {
      language = config.dict;
    }
    var loginHint = config.extraParams.login_hint;
    var colors = config.colors || {};

    // Available Lock configuration options: https://auth0.com/docs/libraries/lock/lock-configuration
    var lock = new Auth0Lock(config.clientID, config.auth0Domain, {
      container: 'auth0-login-container',
      auth: {
        redirectUrl: config.callbackURL,
        responseType: (config.internalOptions || {}).response_type ||
          (config.callbackOnLocationHash ? 'token' : 'code'),
        params: config.internalOptions
      },
      configurationBaseUrl: config.clientConfigurationBaseUrl,
      overrides: {
        __tenant: config.auth0Tenant,
        __token_issuer: config.authorizationServer.issuer
      },
      assetsUrl: config.assetsUrl,
      allowedConnections: connection ? [connection] : null,
      rememberLastLogin: !prompt,
      language: language,
      languageBaseUrl: config.languageBaseUrl,
      languageDictionary: languageDictionary,
      theme: {
        primaryColor: '#7A288A',
        logo: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iMjAiIGZpbGw9InVybCgjZ3JhZGllbnQwX2xpbmVhcl8xXzEpIi8+CjxwYXRoIGQ9Ik0yMCAxMEMxNi42ODYzIDEwIDE0IDEyLjY4NjMgMTQgMTZDMTRfMTkuMzEzNyAxNi42ODYzIDIyIDE5LjMxMzcgMjIgMjJDMjIgMjQuNjg2MyAxOS4zMTM3IDI3IDE2IDI3QzEyLjY4NjMgMjcgMTAgMjQuNjg2MyAxMCAyMUwyMCAxMFoiIGZpbGw9IndoaXRlIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9ImdyYWRpZW50MF9saW5lYXJfMV8xIiB4MT0iMCIgeTE9IjAiIHgyPSI0MCIgeTI9IjQwIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNGRjY5QjQiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjN0EyODhBIi8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+'
      },
      prefill: loginHint ? { email: loginHint, username: loginHint } : null,
      closable: false,
      defaultADUsernameFromEmailPrefix: false,
      socialButtonStyle: 'big',
      showSignUpTab: false,
      allowSignUp: false,
      allowForgotPassword: true,
      allowShowPassword: true,
      passwordlessMethod: 'code',
      autoclose: true,
      autofocus: true,
      avatar: null,
      allowLogin: true,
      loginAfterSignUp: true,
      mustAcceptTerms: false,
      flashMessage: {
        type: 'error',
        text: 'An error occurred during authentication'
      }
    });

    // Custom styling for the lock widget
    lock.on('ready', function() {
      // Hide the default header since we have our custom one
      var header = document.querySelector('.auth0-lock-header');
      if (header) {
        header.style.display = 'none';
      }
      
      // Add custom loading state
      var submitButton = document.querySelector('.auth0-lock-submit');
      if (submitButton) {
        submitButton.addEventListener('click', function() {
          if (!this.disabled) {
            this.innerHTML = '<div class="loading-spinner"></div>Signing in...';
            this.disabled = true;
          }
        });
      }
    });

    // Handle authentication events
    lock.on('authenticated', function(authResult) {
      console.log('Authentication successful:', authResult);
    });

    lock.on('authorization_error', function(error) {
      console.error('Authorization error:', error);
      showError('Authentication failed. Please try again.');
    });

    lock.on('unrecoverable_error', function(error) {
      console.error('Unrecoverable error:', error);
      showError('An unexpected error occurred. Please refresh the page.');
    });

    function showError(message) {
      var errorDiv = document.createElement('div');
      errorDiv.className = 'error-message';
      errorDiv.textContent = message;
      
      var container = document.getElementById('auth0-login-container');
      container.insertBefore(errorDiv, container.firstChild);
      
      // Remove error after 5 seconds
      setTimeout(function() {
        if (errorDiv.parentNode) {
          errorDiv.parentNode.removeChild(errorDiv);
        }
      }, 5000);
    }

    // Apply custom background color if specified
    if(colors.page_background) {
      var css = '.auth0-lock.auth0-lock .auth0-lock-overlay { background: ' +
                  colors.page_background +
                ' }';
      var style = document.createElement('style');
      style.appendChild(document.createTextNode(css));
      document.body.appendChild(style);
    }

    lock.show();
  </script>
</body>
</html>
